<!DOCTYPE html>
<html lang="en">
  <style>
    h1 {
      color: blue;
    }

    /* Update blink animation */
    @keyframes blink {
      0% {
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }

    .blinking {
      animation: blink 0.2s 1; /* Changed to 0.2s duration and 1 iteration */
    }
  </style>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <h1>Hello world</h1>

    <br />
    <img src="https://picsum.photos/200/300" alt="random pic">
    <div>
      <label for="selection">Choose an option: </label>
      <select id="selection">
        <option value="">--Please choose an option--</option>
        <option value="color">Color</option>
        <option value="size">Size</option>
        <option value="quantity">Quantity</option>
      </select>
    </div>

    <!-- Dynamic input container -->
    <div id="dynamicInput" style="display: none">
      <!-- Color options -->
      <div id="colorOptions" style="display: none">
        <label for="colorSelect">Choose a color: </label>
        <select id="colorSelect">
          <option value="red">Red</option>
          <option value="blue">Blue</option>
          <option value="green">Green</option>
        </select>
      </div>

      <!-- Size options -->
      <div id="sizeOptions" style="display: none">
        <label for="sizeSelect">Choose a size: </label>
        <select id="sizeSelect">
          <option value="small">Small</option>
          <option value="medium">Medium</option>
          <option value="large">Large</option>
        </select>
      </div>

      <!-- Quantity options -->
      <div id="quantityOptions" style="display: none">
        <label for="quantityInput">Enter quantity: </label>
        <input type="number" id="quantityInput" min="1" max="100" />
      </div>
    </div>
  </body>

  <script>
    const selection = document.getElementById("selection");
    const dynamicInput = document.getElementById("dynamicInput");
    const colorOptions = document.getElementById("colorOptions");
    const sizeOptions = document.getElementById("sizeOptions");
    const quantityOptions = document.getElementById("quantityOptions");

    selection.onchange = function (event) {
      const selectedValue = event.target.value;

      // Hide all option divs first
      colorOptions.style.display = "none";
      sizeOptions.style.display = "none";
      quantityOptions.style.display = "none";

      // Show the relevant div based on selection
      if (selectedValue) {
        dynamicInput.style.display = "block";

        switch (selectedValue) {
          case "color":
            colorOptions.style.display = "block";
            break;
          case "size":
            sizeOptions.style.display = "block";
            break;
          case "quantity":
            quantityOptions.style.display = "block";
            break;
        }
      } else {
        dynamicInput.style.display = "none";
      }
    };

    // Add event listeners for the secondary inputs
    document.getElementById("colorSelect").onchange = function (event) {
      console.log("Selected color:", event.target.value);
    };

    document.getElementById("sizeSelect").onchange = function (event) {
      console.log("Selected size:", event.target.value);
    };

    document.getElementById("quantityInput").oninput = function (event) {
      console.log("Entered quantity:", event.target.value);
    };

    const heading = document.querySelector("h1");
    heading.addEventListener("click", function () {
      this.classList.add("blinking");
      // Remove the class after animation ends
      this.addEventListener(
        "animationend",
        function () {
          this.classList.remove("blinking");
        },
        { once: true }
      ); // 'once: true' ensures the listener is removed after first use
    });
  </script>
</html>
